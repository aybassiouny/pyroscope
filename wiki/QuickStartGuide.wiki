#summary How to get started - installation and first steps.
#labels installation,configuration,cli,web.ui
<wiki:toc max_depth="2" />

= Installation of the command line tools =

Requirements:
 * Python 2.5 or a higher 2.x version (2.5 is recommended); go to http://www.python.org/download/ if you're on an OS that doesn't have Python out of the box.
 * for `rtcontrol`, an existing rTorrent installation, _with the xmlrpc option compiled in_ and the `scgi_local` option added to your `~/.rtorrent.rc`.

On Ubuntu, do this (tested on Hardy 8.04 LTS):
{{{
sudo aptitude install python-setuptools
sudo easy_install --prefix /usr/local pyrocore
}}}
After that, the CommandLineTools should be immediately available in your shell prompt. 

On Debian or other Debian-based distributions, the same commands should work. For non-Debian distributions, use the appropriate package management tools â€” the package names should be similar (contain the word "`setuptools`"). If you're unable to find a `setuptools` package for your distribution, download it [http://pypi.python.org/pypi/setuptools/ from here] and install it according to the given instructions. Then use the `easy_install` command shown above to download and install the `pyrocore` package.

On Windows, just use `easy_install pyrocore` in `cmd.exe` after [http://www.python.org/download/ installing Python] and `setuptools` as [http://pypi.python.org/pypi/setuptools/ described here].

After installation, you might want to adapt things to your local setup using the instructions on the UserConfiguration page. You should at least *create a configuration* as described there, using the `pyroadmin --create-config` command.

To later *update* an existing installation, use this command:
{{{
sudo easy_install --prefix /usr/local -U pyrocore
}}}

If `easy_install` prints a message containing `error: bad install directory or PYTHONPATH`, try to use `--prefix /usr` in the above command.


----
*What follows is the more complex installation of the yet-incomplete web interface and currently has a chance of being broken...*
----

= For the Impatient =

Requirements:
 * an existing rTorrent installation, _with the xmlrpc option compiled in_
 * Python 2.5 or a higher 2.x version (2.5 is recommended)
 * currently, a proper build environment (see below) and a subversion client

Initial installation:
{{{
mkdir -p ~/lib
svn checkout http://pyroscope.googlecode.com/svn/trunk/ ~/lib/pyroscope
cd ~/lib/pyroscope/pyrocore
source bootstrap.sh
}}}

After that, the CommandLineTools are available in the `~/lib/pyroscope/bin` directory.
If you want to use the web interface, see "Details of Installation" below.

If you like PyroScope after using it for a while, click on the following button to support it.
<wiki:gadget url="http://www.ohloh.net/p/346666/widgets/project_users_logo.xml" height="43"  border="0" />

= Details of Installation =

Currently, the only way to install and use the software is from source, as outlined above.

== Package Dependencies ==
On Debian and Ubuntu, you'll need the following packages installed:
{{{
aptitude install python2.5 python-virtualenv python-dev
aptitude install inkscape build-essential devtools subversion
}}}

If there are packages missing from that list, leave a comment.


= Configuration =
_The file system paths in the following sections can be adapted to your installation, of course, but avoid that unless you have a good reason. It's recommended to put the SCGI socket into the `~/lib/rtorrent` directory, just create it if your rTorrent installation is located elsewhere. These instructions work best if PyroScope is installed into the same user account as rTorrent._

== `rTorrent` Configuration ==
In your `~/.rtorrent.rc` file, add or change these lines:
{{{
scgi_local = ~/lib/rtorrent/.scgi_local
}}}
Then restart it.

*WARNING:* The xmlrpc libararies on Ubuntu have a bug regarding integer overflows (causing bigger data sizes like those of Linux distribution DVDs to be misreported), see [http://code.google.com/p/rtgui/wiki/CompilingRtorrent this page] for details on how to fix it.

== `PyroScope` Basic Configuration ==
Create the `~/.pyroscope` directory and the necessary sub directories.
{{{
mkdir -p ~/.pyroscope/{log,data,www-data}
}}}

== Starting the Web Interface ==
To use the web server, you first have to make a config file as follows:
{{{
cd ~/lib/pyroscope
./bin/paster make-config pyroscope ~/.pyroscope/web.ini
}}}

Tweak the config file as appropriate (read the comments in the file); if you intend to use the default port 8042 this can be skipped altogether. Then start the web server in daemon mode:
{{{
cd ~/lib/pyroscope
./bin/paver start
}}}
If you did not change the web server parameters, you can now view the start page at http://127.0.0.1:8042/. You can use the `paver status` command to check on the server status, and `paver stop` to stop a running server.

== Enabling the Queue Manager ==
*NOT IMPLEMENTED YET*

Using `crontab -e`, add the following to your cron schedule:
{{{
* * * * *   test -S ~/lib/rtorrent/.scgi_local && ~/lib/pyroscope/bin/pyro-qm
}}}


= Maintenance Tasks =
The following information helps you to keep your software up-to-date and use all of its features...

== Updating to the Latest SVN Version ==
To update the software after initial installation, use these commands:
{{{
cd ~/lib/pyroscope
source bin/activate
#( cd pyroscope && paver stop )
svn update
( cd pyrocore && source bootstrap.sh )
#( cd pyroscope && paver develop -U && paver bootstrap && paver start )
}}}